---
title: 전투 - 데이터와 수치
category: 시스템
parent: [[GDD/시스템/[SYS] 전투 - 개요]]
related:
  - [[GDD/데이터/[DATA] 데이터 모델 가이드]]
---

## 기초 수치
- atk, hp/hpMax, mp/mpMax, def, spd, crit, dodge, block, shield

## 판정 순서(단일 히트)
1) 명중(acc) → 2) 회피(dodge) → 3) 막기(block) → 4) 치명(crit) → 5) 피해계산 → 6) 실드흡수

## 난수/재현성
- 목적: 같은 전투를 같은 조건으로 반복하면 결과가 동일하게 재현되도록 한다(디버깅/밸런싱 용이).
- 핵심 개념(쉽게 설명):
  - 전투 시작 때 하나의 "씨앗(Seed) 숫자"를 정해 두면, 그 숫자에서 출발해 미리 정해진 순서로 무작위 수들이 줄줄이 만들어진다.
  - 전투 중에 "무작위가 필요할 때마다"(예: 명중 판정) 이 줄에서 하나씩 꺼내 쓴다. 같은 타이밍에 같은 횟수만큼 꺼내 쓰면, 언제 해도 같은 결과가 나온다.
- 시드 소스: `battle.seed`를 사용하여 전투별로 RNG를 초기화한다. 재시작/로드 시 같은 시드를 유지하면 결과가 재현된다.
- 소비 순서(결정적 순서): 단일 히트 기준 아래 순서로 난수를 소모한다.
  1) 명중(acc)
  2) 회피(dodge)
  3) 막기(block)
  4) 치명타(crit)
  - 멀티히트의 경우 히트마다 위 순서를 반복한다.
- 주의점(재현성 보장 규칙):
  - 행동/타겟이 바뀌면 난수 소비 순서가 달라져 결과가 달라질 수 있다(의도된 동작).
  - UI의 "예상 명중률/예상 피해"는 확률/공식으로 계산될 뿐 실제 난수열을 미리 보지 않는다(스포일러 방지).
  - 패시브/속성 보정(예: 관통 vs 뼈 골격)은 명중 확률에 먼저 반영된 뒤 난수 판정이 진행된다.

