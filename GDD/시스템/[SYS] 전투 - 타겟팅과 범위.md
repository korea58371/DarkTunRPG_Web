## 타겟 우선순위
1) 플레이어가 선택한 대상
2) 시전자의 기억 대상(유효할 때)
3) 규칙상 첫 대상(근접은 최전열 내)

## 사거리/범위
- 근접(melee): 적이 존재하는 가장 앞열만 대상 가능
- 원거리(ranged): 모든 적 대상 가능
- 전열(row): 지정된 열 전체(예: row=1)
- 라인(line): 선택한 열의 세로 라인 전체(같은 col)

### 세부 규칙(현행 구현)
- 아군 대상 스킬(range:'ally')에서 기억된 타겟은 반드시 같은 편이어야 하며, 그렇지 않으면 무시한다.
- 근접(melee) 타겟 선택은 "현재 살아있는 적 중 최전열"을 기준으로 한다. 플레이어가 이미 선택한 타겟이 해당 열에 있으면 그 대상을 우선한다.
- 전열(row) 스킬은 `to`가 단일 값일 때(예: `[1]`) 명시 타겟 없이도 사용 가능하며, 그렇지 않으면 선택된 타겟의 행(row)을 사용해 범위를 확정한다.
- 라인(line) 스킬은 선택된 타겟의 열(col)을 기준으로 같은 열의 대상 전체를 적용한다.

## 배치 지정(전투 데이터)
- 전투별 적 배치를 데이터에서 직접 지정 가능
- `battles.js` 예시:
```json
{"id":"BT-200","enemy":["E-101", {"unit":"E-301","position":7}, {"unit":"E-103","row":3,"col":2}]}
```
- `position`: 1~9 맵핑(후열1~전열9), `row/col`: row(1~3), col(0~2)
- 전투 데이터에 지정된 값이 유닛 기본 `position`보다 우선한다

